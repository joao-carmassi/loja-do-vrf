import{S as x}from"./SetaLink-CYxg_RzD.js";import{T as k}from"./TabelaItems-CQ9f4ffI.js";import{s as w,k as p,_ as S,c as l,d as r,F as c,i as f,e as y,h as F,j as C,t as u,r as b,o as e}from"./index-CCAWl_zN.js";const M={components:{TabelaItems:k,SetaLink:x},data(){return{id:this.$route.params.id,SProdutos:w(),produtos:[],marcas:[],subcategorias:{},produtosFiltrados:[],marcaAFiltrar:"",SubcategoriaAFiltrar:"",filtroSubcategoria:this.$route.params.filtroSubcategoria}},watch:{"$route.params.id":{immediate:!0,handler(){this.id=this.$route.params.id,this.colocaProdutos(),this.resetaFiltros()},deep:!0},"$route.params.filtroSubcategoria":{immediate:!0,handler(){this.filtroSubcategoria=this.$route.params.filtroSubcategoria,this.filtroDaNav()},deep:!0}},methods:{filtraProdutosMarca(a){p(),this.marcaAFiltrar=a},filtraProdutosCategoria(a){p(),this.SubcategoriaAFiltrar=a},resetaFiltros(){this.marcaAFiltrar="",this.SubcategoriaAFiltrar=""},filtroDaNav(){this.filtroSubcategoria&&(this.SubcategoriaAFiltrar=this.filtroSubcategoria)},quantidadeDeCadaMarca(a){return a===""?this.produtos.length:this.produtos.filter(n=>n.marca===a).length},async colocaProdutos(){this.produtos=[],window.scrollTo(0,0);const a=await this.SProdutos.getProdutos();for(const t in a)a[t].forEach(n=>{n.categoria===this.id&&this.produtos.push(n)});this.produtos.length===0&&this.$router.push("/404")}},mounted(){},async created(){this.marcas=await this.SProdutos.getMarcas(),this.subcategorias=await this.SProdutos.getSubcategorias(),this.filtroDaNav(),setInterval(()=>{const a=document.querySelectorAll(".btnFiltro");a.forEach(t=>{t.addEventListener("click",n=>{a.forEach(s=>{s.id===t.id&&s.classList.remove("font-semibold")}),n.target.classList.add("font-semibold")})})},500)},computed:{filtraMarcaESubcategoria(){let a=this.produtos;return this.marcaAFiltrar!==""&&(a=a.filter(t=>t.marca===this.marcaAFiltrar)),this.SubcategoriaAFiltrar!==""&&(a=a.filter(t=>t.subcategoria===this.SubcategoriaAFiltrar)),a}}},_={class:"bg-base-100 flex gap-7"},P={class:"hidden md:flex flex-col gap-5 w-fit top-0 left-0 p-7 pr-0 h-full"},A={class:"mt-3 flex items-start justify-start flex-col gap-3"},D=["onClick"],T={class:"my-3 flex items-start justify-start flex-col gap-3"},E=["onClick"],O={class:"ml-0 md:block w-full px-4 md:px-8 md:py-4 pb-6 border-gray-400"},j={class:"w-full"},L={class:"drawer md:hidden flex items-end justify-end"},N={class:"drawer-side z-50"},z={class:"flex md:hidden bg-base-100 flex-col gap-5 w-fit top-0 left-0 p-7 h-full"},B={class:"mt-3 flex items-start justify-start flex-col gap-3"},q=["onClick"],I={class:"my-3 flex items-start justify-start flex-col gap-3"},V=["onClick"],G={key:1,class:"italic"};function H(a,t,n,m,s,i){const g=b("SetaLink"),v=b("TabelaItems");return e(),l("section",_,[r("aside",P,[r("div",null,[t[4]||(t[4]=r("h2",{class:"text-secondary text-nowrap text-lg font-semibold"}," Marcas: ",-1)),r("ul",A,[r("li",null,[r("button",{id:"filtroMarca",class:"link-hover btnFiltro",onClick:t[0]||(t[0]=o=>i.filtraProdutosMarca(""))}," TODOS ")]),(e(!0),l(c,null,f(s.marcas,(o,d)=>(e(),l("li",{key:d},[r("button",{id:"filtroMarca",class:"link-hover text-nowrap btnFiltro",onClick:h=>i.filtraProdutosMarca(o)},u(o),9,D)]))),128))])]),t[6]||(t[6]=r("hr",{class:"border-secondary"},null,-1)),r("div",null,[t[5]||(t[5]=r("h2",{class:"text-secondary text-nowrap text-lg font-semibold"}," Categorias: ",-1)),r("ul",T,[r("li",null,[r("button",{id:"filtroCategoria",class:"link-hover btnFiltro text-start",onClick:t[1]||(t[1]=o=>i.filtraProdutosCategoria(""))}," TODOS ")]),(e(!0),l(c,null,f(s.subcategorias[s.id],(o,d)=>(e(),l("li",{key:d},[r("button",{id:"filtroCategoria",class:"link-hover btnFiltro text-nowrap text-start",onClick:h=>i.filtraProdutosCategoria(o)},u(o),9,E)]))),128))])])]),r("div",O,[y(g,{class:"mb-5",id:s.id},null,8,["id"]),r("div",j,[r("div",L,[t[11]||(t[11]=F('<label for="my-drawer" class="btn px-2 gap-1 mb-3 btn-sm btn-outline btn-secondary drawer-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" width="24" height="24" stroke-width="1.5"><path d="M4 8h4v4h-4z"></path><path d="M6 4l0 4"></path><path d="M6 12l0 8"></path><path d="M10 14h4v4h-4z"></path><path d="M12 4l0 10"></path><path d="M12 18l0 2"></path><path d="M16 5h4v4h-4z"></path><path d="M18 4l0 1"></path><path d="M18 9l0 11"></path></svg><p>Filtros</p></label><input id="my-drawer" type="checkbox" class="drawer-toggle drawers"><div class="drawer-content z-50"></div>',3)),r("div",N,[t[10]||(t[10]=r("label",{for:"my-drawer","aria-label":"close sidebar",class:"drawer-overlay"},null,-1)),r("div",z,[r("div",null,[t[7]||(t[7]=r("h2",{class:"text-secondary text-nowrap text-lg font-semibold"}," Marcas: ",-1)),r("ul",B,[r("li",null,[r("button",{id:"filtroMarca",class:"link-hover btnFiltro",onClick:t[2]||(t[2]=o=>i.filtraProdutosMarca(""))}," TODOS ")]),(e(!0),l(c,null,f(s.marcas,(o,d)=>(e(),l("li",{key:d},[r("button",{id:"filtroMarca",class:"link-hover text-nowrap btnFiltro",onClick:h=>i.filtraProdutosMarca(o)},u(o),9,q)]))),128))])]),t[9]||(t[9]=r("hr",{class:"border-secondary"},null,-1)),r("div",null,[t[8]||(t[8]=r("h2",{class:"text-secondary text-nowrap text-lg font-semibold"}," Categorias: ",-1)),r("ul",I,[r("li",null,[r("button",{id:"filtroCategoria",class:"link-hover btnFiltro text-start",onClick:t[3]||(t[3]=o=>i.filtraProdutosCategoria(""))}," TODOS ")]),(e(!0),l(c,null,f(s.subcategorias[s.id],(o,d)=>(e(),l("li",{key:d},[r("button",{id:"filtroCategoria",class:"link-hover btnFiltro text-nowrap text-start",onClick:h=>i.filtraProdutosCategoria(o)},u(o),9,V)]))),128))])])])])])]),r("div",null,[i.filtraMarcaESubcategoria.length>=1?(e(),C(v,{key:0,produtos:i.filtraMarcaESubcategoria},null,8,["produtos"])):(e(),l("p",G," Sem resultado de busca para o filtro "+u(s.marcaAFiltrar)+" "+u(s.SubcategoriaAFiltrar)+". ",1))])])])}const R=S(M,[["render",H]]);export{R as default};
