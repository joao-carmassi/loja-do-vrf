import{T as x}from"./TabelaItems-kBgNnABE.js";import{S as v}from"./SetaLink-BuYIZ-MW.js";import{T as P,_,c as r,e as u,r as c,o as l,s as k,j as C,d as s,t as i,F as b,h as g,g as y}from"./index-DzNlTPRP.js";const T={components:{TituloCategoria:P,SetaLink:v},props:{id:{type:String,required:!0}}},M={class:"mb-8 px-2"};function S(o,t,d,f,e,n){const p=c("SetaLink"),h=c("TituloCategoria");return l(),r("div",M,[u(p,{class:"pb-4",id:d.id},null,8,["id"]),u(h,{categoria:d.id,id:"tituloCategoria"},null,8,["categoria"])])}const D=_(T,[["render",S]]),q={components:{TabelaItems:x,TituloESeta:D},data(){return{id:this.$route.params.id,SProdutos:k(),produtos:{},eProduto:!1,tipoasDeCadaMarca:{},ItemsPesquisados:[],quatidadeDeCadaProduto:{}}},watch:{"$route.params.id":{immediate:!0,handler(){this.id=this.$route.params.id,this.baixaProdutos()}}},methods:{async baixaProdutos(){window.scrollTo(0,0);const o=await this.SProdutos.getProdutos();this.ItemsPesquisados=o[this.id],(this.ItemsPesquisados===void 0||this.ItemsPesquisados.length<=0)&&this.$router.push("/404"),this.produtos=this.ItemsPesquisados},async filtraPorTipo(o){await this.baixaProdutos(),C(),o!==""&&(this.produtos=this.produtos.filter(t=>t.categoria===o))}},async mounted(){this.tipoasDeCadaMarca=await this.SProdutos.capturaOsTiposDeProdutosDeCadaMarca(),this.quatidadeDeCadaProduto=this.produtos.reduce((o,t)=>(o[t.categoria]?o[t.categoria]++:o[t.categoria]=1,o),{}),setInterval(()=>{const o=document.querySelectorAll(".btnFiltro");o.forEach(t=>{t.addEventListener("click",d=>{o.forEach(e=>{e.id===t.id&&e.classList.remove("font-semibold")}),d.target.classList.add("font-semibold")})})},500)}},I={class:"bg-base-100 flex gap-7"},F={class:"hidden md:block w-fit top-0 left-0 p-7 pr-0 h-full"},E={class:"my-3 flex items-start justify-start flex-col gap-3"},L=["onClick"],z={class:"ml-0 md:block w-full px-4 md:px-8 md:py-4 pb-6 border-gray-400"},O={class:"w-full"},j={class:"drawer md:hidden flex items-end justify-end"},B={class:"drawer-side z-50"},N={class:"bg-base-200 text-base-content min-h-full w-fit p-7"},V={class:"my-5 flex flex-col gap-5"},$=["onClick"];function A(o,t,d,f,e,n){const p=c("TituloESeta"),h=c("TabelaItems");return l(),r("section",I,[s("aside",F,[t[2]||(t[2]=s("h2",{class:"text-secondary text-nowrap text-lg font-semibold"}," Categorias: ",-1)),s("ul",E,[s("li",null,[s("button",{class:"link-hover btnFiltro font-semibold text-start",onClick:t[0]||(t[0]=a=>n.filtraPorTipo(""))}," TODOS ("+i(e.ItemsPesquisados.length)+") ",1)]),(l(!0),r(b,null,g(e.tipoasDeCadaMarca[e.id],(a,m)=>(l(),r("li",{key:m},[s("button",{class:"link-hover text-nowrap btnFiltro text-start",onClick:w=>n.filtraPorTipo(a)},i(a)+" ("+i(e.quatidadeDeCadaProduto[a])+") ",9,L)]))),128))])]),s("div",z,[u(p,{id:e.id},null,8,["id"]),s("div",O,[s("div",j,[t[5]||(t[5]=y('<label for="my-drawer" class="btn px-2 gap-1 mb-3 btn-sm btn-outline btn-secondary drawer-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" width="24" height="24" stroke-width="1.5"><path d="M4 8h4v4h-4z"></path><path d="M6 4l0 4"></path><path d="M6 12l0 8"></path><path d="M10 14h4v4h-4z"></path><path d="M12 4l0 10"></path><path d="M12 18l0 2"></path><path d="M16 5h4v4h-4z"></path><path d="M18 4l0 1"></path><path d="M18 9l0 11"></path></svg><p>Filtros</p></label><input id="my-drawer" type="checkbox" class="drawer-toggle drawers"><div class="drawer-content z-50"></div>',3)),s("div",B,[t[4]||(t[4]=s("label",{for:"my-drawer","aria-label":"close sidebar",class:"drawer-overlay"},null,-1)),s("div",N,[t[3]||(t[3]=s("h2",{class:"text-secondary text-nowrap text-lg font-semibold"}," Filtrar por produtos: ",-1)),s("ul",V,[s("li",null,[s("button",{class:"link-hover",onClick:t[1]||(t[1]=a=>n.filtraPorTipo(""))}," TODOS ("+i(e.ItemsPesquisados.length)+") ",1)]),(l(!0),r(b,null,g(e.tipoasDeCadaMarca[e.id],(a,m)=>(l(),r("li",{key:m},[s("button",{class:"link-hover",onClick:w=>n.filtraPorTipo(a)},i(a)+" ("+i(e.quatidadeDeCadaProduto[a])+") ",9,$)]))),128))])])])])]),u(h,{produtos:e.produtos},null,8,["produtos"])])])}const K=_(q,[["render",A]]);export{K as default};
